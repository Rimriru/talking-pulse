<template>
  <form class="form" @submit.prevent="emit('submit')" autocomplete="off" novalidate>
    <div class="form-inner">
      <h1 class="greeting">
        {{
          $props.isPlacedInLogin ? '–†–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å –≤–Ω–æ–≤—å!&nbsp;' : '–î–∞–≤–∞–π—Ç–µ –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è!&nbsp;'
        }}üëã
      </h1>
      <slot></slot>
      <button type="submit" :disabled="isSubmitButtonDisabled">
        {{ $props.isPlacedInLogin ? '–í–æ–π—Ç–∏' : '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è' }}
      </button>
      <p class="form__text" v-if="isNarrowMonitor">
        {{ $props.isPlacedInLogin ? '–ï—â—ë –Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?' : '–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?' }}
        <a
          class="form__link"
          @click="$props.isPlacedInLogin ? router.push('/register') : router.push('/login')"
          >{{ $props.isPlacedInLogin ? '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è' : '–í–æ–π—Ç–∏' }}</a
        >
      </p>
    </div>
  </form>
</template>

<script setup lang="ts">
import { computed } from 'vue';
import { useRouter } from 'vue-router';
import useWindowResize from '@/composables/useWindowResize';
defineProps<{
  isSubmitButtonDisabled: boolean;
  isPlacedInLogin: boolean;
}>();

const emit = defineEmits(['submit']);

const router = useRouter();

const { width } = useWindowResize();

const isNarrowMonitor = computed(() => (width.value <= 850 ? true : false));
</script>

<style lang="scss">
@import url(../assets/styles/components/LoginRegistryForm/form.scss);
</style>
